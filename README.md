# Vivado Project Migration Tool

**Vivado FPGA projelerini Git'e taÅŸÄ±mak iÃ§in C# kÃ¼tÃ¼phanesi**

---

## ğŸ¯ Ne Ä°ÅŸe Yarar?

Vivado projeleri genellikle **gigabyte'larca** geÃ§ici dosya iÃ§erir. Bu araÃ§:

âœ… Sadece **kaynak dosyalarÄ±** ayÄ±klar  
âœ… Gereksiz build Ã§Ä±ktÄ±larÄ±nÄ± **hariÃ§ tutar**  
âœ… Proje path'lerini **otomatik dÃ¼zeltir**  
âœ… Git-friendly **klasÃ¶r yapÄ±sÄ±** oluÅŸturur  
âœ… **Minimum dosyayla** yeniden derlenebilir proje oluÅŸturur

---

## âœ¨ Desteklenen Ã–zellikler

| Ã–zellik | AÃ§Ä±klama |
|---------|----------|
| **Vivado XPR** | Project-mode projeleri |
| **Block Design** | .bd dosyalarÄ± ve iÃ§indeki IP'ler |
| **IP Core** | .xci ve .xcix dosyalarÄ± |
| **Custom IP Repo** | Proje iÃ§indeki Ã¶zel IP'ler |
| **COE/MEM** | Memory initialization dosyalarÄ± |
| **Vitis/SDK** | Embedded software projeleri |
| **Hardware Export** | .xsa dosyalarÄ± |

---

## ğŸ“ Ã‡Ä±ktÄ± KlasÃ¶r YapÄ±sÄ±

```
<hedef>/
â”œâ”€â”€ work/           â†’ Vivado XPR dosyasÄ± (aÃ§Ä±lacak proje)
â”œâ”€â”€ hdl/            â†’ Verilog/VHDL kaynak dosyalarÄ±
â”œâ”€â”€ ip/             â†’ IP Ã§ekirdekleri
â”‚   â”œâ”€â”€ <ip_name>/  â†’ Her IP iÃ§in XCI + COE dosyalarÄ±
â”‚   â””â”€â”€ custom_ip_repo/  â†’ Custom IP'ler (component.xml, HDL)
â”œâ”€â”€ bd/             â†’ Block Design dosyalarÄ±
â”‚   â””â”€â”€ <bd>/       â†’ BD ve iliÅŸkili IP'ler
â”œâ”€â”€ const/          â†’ Constraint dosyalarÄ± (.xdc)
â”œâ”€â”€ sim/            â†’ SimÃ¼lasyon/testbench dosyalarÄ±
â”œâ”€â”€ other/coe/      â†’ Standalone coefficient dosyalarÄ±
â”œâ”€â”€ out/            â†’ Bitstream Ã§Ä±ktÄ±larÄ± (.bit, .ltx, .mmi, .mcs)
â”œâ”€â”€ vitis/          â†’ Vitis proje kaynaklarÄ±
â”œâ”€â”€ hw_export/      â†’ Hardware export (.xsa)
â”œâ”€â”€ elf/            â†’ Build edilmiÅŸ ELF dosyalarÄ±
â””â”€â”€ docs/           â†’ DokÃ¼manlar
```

---

## ğŸš€ KullanÄ±m

### Kurulum

1. [Releases](../../releases) sayfasÄ±ndan DLL'i indirin
2. Projenize referans ekleyin: `Add > Reference > Browse`

### Windows Forms

```csharp
using Migrations;

private void buttonMigrate_Click(object sender, EventArgs e) {
    MigrationVivado m = new MigrationVivado();
    m.writeLog = textBoxLog.AppendText;
    m.projectFileFA = textBoxXprFile.Text;    // C:\...\project.xpr
    m.targetDir = textBoxTargetDir.Text;       // C:\Git\project (boÅŸ olmalÄ±)
    m.createGitIgnore = true;
    m.MigrateProject();
}
```

### Konsol

```csharp
using Migrations;

static void Main(string[] args) {
    MigrationVivado m = new MigrationVivado();
    m.writeLog = Console.Write;
    m.projectFileFA = args[0];
    m.targetDir = args[1];
    m.createGitIgnore = true;
    m.MigrateProject();
}
```

---

## ğŸ“Š Kaynak TÃ¼rleri

| UzantÄ± | TÃ¼r | Hedef |
|--------|-----|-------|
| `.v`, `.sv`, `.vhd` | HDL kaynak | `/hdl` |
| `.xci` | IP descriptor | `/ip` |
| `.xcix` | IP arÅŸiv | `/ip` (aÃ§Ä±lÄ±r) |
| `.bd` | Block Design | `/bd` |
| `.xdc` | Constraint | `/const` |
| `.coe`, `.mem`, `.mif` | Memory init | `/other/coe` veya IP ile |
| `.xsa` | HW Export | `/hw_export` |
| `.elf` | Embedded binary | `/elf` |

---

## ğŸ”„ Projeyi Geri AÃ§ma

1. `work/<proje>.xpr` dosyasÄ±nÄ± Vivado ile aÃ§Ä±n
2. **"Generate Output Products"** Ã§alÄ±ÅŸtÄ±rÄ±n (IP'ler iÃ§in)
3. Sentez ve implementation Ã§alÄ±ÅŸtÄ±rÄ±n
4. Vitis varsa: `vitis/` klasÃ¶rÃ¼nÃ¼ workspace olarak aÃ§Ä±n

---

## ğŸ“ Otomatik .gitignore

```gitignore
# Vivado generated files
*.dcp
*.log
*.jou

# Work directory (regenerated by Vivado)
work/

# Vitis build outputs
vitis/**/Debug/
vitis/**/Release/
vitis/**/.metadata/
vitis/**/_ide/
*.o
*.d
*.map
```

---

## ğŸ’¡ TasarÄ±m KararlarÄ±

### Neden Sadece XCI?
- Vivado, XCI dosyasÄ±ndan IP'yi tamamen yeniden Ã¼retebilir
- DCP, sim_netlist, synth Ã§Ä±ktÄ±larÄ± gereksiz
- Repo boyutu %90+ kÃ¼Ã§Ã¼lÃ¼r

### COE/MEM Neden Dahil?
- BRAM/ROM initialization dosyalarÄ± **zorunlu**
- Vivado bunlarÄ± regenerate edemez
- Eksik olursa memory boÅŸ kalÄ±r

### Custom IP Repo
- `component.xml` iÃ§eren klasÃ¶rler algÄ±lanÄ±r
- HDL, TCL, XDC dosyalarÄ± kopyalanÄ±r
- XPR'daki `IPRepoPath` otomatik gÃ¼ncellenir

---

## âš ï¸ Bilinen SÄ±nÄ±rlamalar

- **Harici IP Repo**: Proje dÄ±ÅŸÄ±ndaki repo'lar path olarak kalÄ±r
- **Vitis Platform**: Kompleks platform projeleri manuel mÃ¼dahale gerektirebilir
- **Simulation IP**: Vivado tarafÄ±ndan yeniden Ã¼retilir

---

## ğŸ› Hata MesajlarÄ±

| Mesaj | AnlamÄ± |
|-------|--------|
| `Warning - BD IP not found` | BD iÃ§indeki IP bulunamadÄ± (Vivado Ã¼retecek) |
| `Warning - Implementation directory not found` | Bitstream henÃ¼z Ã¼retilmemiÅŸ |
| `Skipping duplicate BD IP` | IP zaten XPR'da tanÄ±mlÄ± |
| `ERROR - ParseXPR failed` | XPR dosyasÄ± geÃ§ersiz veya bozuk |

---

## ğŸ“‹ Gereksinimler

- .NET Framework 4.8
- Windows
- Vivado 2016.1+

---

## ğŸ—ï¸ Derleme

```bash
# Visual Studio ile
1. Migrations.sln aÃ§
2. Build > Build Solution
3. Ã‡Ä±ktÄ±: SharedLibrary/bin/Debug/Migrations.dll

# Komut satÄ±rÄ±ndan
dotnet build Migrations.sln
```

---

## ğŸ“„ Lisans

MIT License - AÃ§Ä±k kaynak olarak sunulmaktadÄ±r.

